{% extends 'base.html'%}
{% load widget_tweaks %}
{% load static %}
{% block content%}

<!-- Page Wrapper -->
<div class="page-wrapper">
    <div class="content container-fluid">

        <!-- Page Header -->
        <div class="page-header">
            <div class="row">
                <div class="col-sm-12">
                    <div class="card full-header">
                        <div class="text-editor">
                            <div class="users">
                                <h3 class="page-title">Notification</h3>
                            </div>
                            <div class="user-box">
                                <div class="datatables">
                                    <form action="#" class=" row">

                                        <div class="form-group col-sm-12">
                                            <label>Select Title</label>
                                            <select name="title" class="form-control" id="title">
                                                <option value="firtitle">Titles 1</option>
                                                <option value="firtitle">Titles 1</option>
                                                <option value="firtitle">Titles 1</option>
                                                <option value="firtitle">Titles 1</option>
                                                <option value="firtitle">Titles 1</option>
                                            </select>
                                        </div>
                                        <div class="form-group col-sm-12">
                                            <label>Title</label>
                                            <input type="text" class="form-control" placeholder="Title">
                                        </div>
                                        <div class="form-group col-sm-12">
                                            <label> Discription</label>
                                            <textarea type="text" class="form-control" placeholder="Discription"
                                                style="height: 58px;"></textarea>
                                        </div>
                                        <div class="form-group col-sm-12">
                                            <div class="submit">
                                                <a href="#" class="form-control bg-submits" onclick="submitForm()">
                                                    Submit</a>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                        <!--  -->
                        <div class="full-editor mt-3">
                            <div class="users">
                                <h3 class="page-title">Notification Detail</h3>
                            </div>

                            <table id="example" class="display nowrap" style="width:100%">
                                <thead>
                                    <tr>
                                        <th>S.no</th>
                                        <th>Notification</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="even">
                                        <td>1</td>
                                        <td> A Notification is a statement or a legal document that states how a
                                            company or website collects, handles and processes data of its
                                            customers and visitors. It explicitly describes whether that
                                            information is kept confidential, or is shared with or sold to third
                                            parties</td>
                                        <td>
                                            <button class="btn btn-primary mb-2"><a class="edit-btn"
                                                    href="#">Edit</a></button>
                                            <button class="btn btn-primary mb-2"><a class="edit-btn"
                                                    href="#">Delete</a></button>
                                        </td>
                                    </tr>
                                    <tr class="odd">
                                        <td>2</td>
                                        <td> A Notification is a statement or a legal document that states how a
                                            company or website collects, handles and processes data of its
                                            customers and visitors. It explicitly describes whether that
                                            information is kept confidential, or is shared with or sold to third
                                            parties</td>
                                        <td>
                                            <button class="btn btn-primary mb-2"><a class="edit-btn"
                                                    href="#">Edit</a></button>
                                            <button class="btn btn-primary mb-2"><a class="edit-btn"
                                                    href="#">Delete</a></button>
                                        </td>
                                    </tr>

                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- /Page Header -->

        <div class="row">
            <div class="col-sm-12">

            </div>
        </div>

    </div>
</div>
<!-- /Page Wrapper -->

</div>
<!-- /Main Wrapper -->

<!--DATATABLES SCRIPT START DATATABLES SCRIPT START DATATABLES SCRIPT START DATATABLES SCRIPT START -->
<script src="https://code.jquery.com/jquery-3.7.0.js"></script>
<script src="https://cdn.datatables.net/1.13.7/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/buttons/2.4.2/js/dataTables.buttons.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
<script src="https://cdn.datatables.net/buttons/2.4.2/js/buttons.html5.min.js"></script>
<script src="https://cdn.datatables.net/buttons/2.4.2/js/buttons.print.min.js"></script>
<script>
    $(document).ready(function () {
        $('#example').DataTable({
            dom: 'Bfrtip',
            buttons: [
                'copy', 'csv', 'excel', 'pdf', 'print'
            ]
        });
    });
</script>
<script>
    function submitForm() {
      // Get the selected users
      const selectedUsers = Array.from(document.querySelectorAll('input[name="select_user"]:checked')).map(checkbox => checkbox.value);
  
      // Add the selected users to the form data
      selectedUsers.forEach(userId => {
        const hiddenInput = document.createElement('input');
        hiddenInput.type = 'hidden';
        hiddenInput.name = 'selected_users';
        hiddenInput.value = userId;
        document.getElementById('notificationForm').appendChild(hiddenInput);
      });
  
      // Submit the form
      document.getElementById('notificationForm').submit();
    }
  </script>
{% endblock %}